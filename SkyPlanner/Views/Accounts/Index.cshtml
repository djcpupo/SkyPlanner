@model IEnumerable<SkyPlanner.Entities.Account>

@{
    ViewData["Title"] = "Accounts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Account List</h1>

<p>
    
</p>
<table class="table">
    <thead>
        <tr>
            <th class="col-lg-3 col-md-3">
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th class="col-lg-2 col-md-2">
                @Html.DisplayNameFor(model => model.Phone)
            </th>
            <th class="col-lg-3 col-md-3">
                @Html.DisplayNameFor(model => model.Street)
            </th>
            <th class="col-lg-2 col-md-2">
                @Html.DisplayNameFor(model => model.City)
            </th>
            <th class="col-lg-1 col-md-1">
                @Html.DisplayNameFor(model => model.State)
            </th>
            <th class="col-lg-1 col-md-1">
                @Html.DisplayNameFor(model => model.Zip)
            </th>
        </tr>
    </thead>
    <tbody id="accounts-table"></tbody>
</table>
@section Scripts { 
<script>         
    $(document).ready(function() {
        $.get("/api/Account", function(data) {
            for (i = 0; i < data.length; i++) { 
                $("#accounts-table").append(
                    '<tr id="account-' + data[i].accountId + '"><td class="col-lg-3 col-md-3">' + data[i].name +
                    '</td><td class="col-lg-2 col-md-2">' + data[i].phone +
                    '</td><td class="col-lg-3 col-md-3">' + data[i].street +
                    '</td><td class="col-lg-2 col-md-2">' + data[i].city +
                    '</td><td class="col-lg-1 col-md-1">' + data[i].state +
                    '</td><td class="col-lg-1 col-md-1">' + data[i].zip + '</td></tr>');
            }
        });

    });
 </script>
 }